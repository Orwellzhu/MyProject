/*
 * jQuery.popMessage
 *
 * Copyright 2010, Hudong.com
 * Dual licensed under the MIT and GPL licenses.
 * author: hechunpeng
 * $Date: 2010-11-02 $
 * $Last: 2010-11-02 $
 *
 * Tips: 需要引用jquery和jQuery.dialog-0.8这两个js才可以使用
 */
(function(d){var a="hdcookie_tmp";function b(j){var i=document.cookie;var k=i.indexOf(j+"=");var g=k+j.length+1;if((!k)&&(j!=i.substring(0,j.length))){return null}if(k==-1){return null}var h=i.indexOf(";",g);if(h==-1){h=i.length}return unescape(i.substring(g,h))}function f(j){var l=b(a);if(l!=null){var g=l.split(/\|/);var h;var m=null;for(var k=0;k<g.length;k++){m=null;h=null;if(g[k]!=""){h=g[k].split(/=/);if(h!=null&&h.length==2){if(j==h[0]){m=h[1];break}}}}return m}return null}function e(i,g){var h=b(a);var j="";if(h!=null){if(h!=""){j=i+"=1|"+h}else{j=i+"=1"}}else{j=i+"=1"}document.cookie=a+"="+escape(j)+";;path=/;domain=.baike.com;expires="+g}var c={defaults:{id:"HDpopMsg",data:'<div class="close_b" onclick="$.popMessage.close();">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><iframe width="310" height="275" frameborder="0" scrolling="no" onload="$.popMessage.show();" marginheight="0" marginwidth="0" src="http://huodong.hudong.com/zszg/zszg.html"></iframe>',popMsgcookiename:"HD_popMsg",setcookie:true,delayTime:24*60*60*1000,noDelayTime:false,height:280,weight:310,style:"div.hudong_dialog div.content .close_b{width:37px; height:11px; position:absolute; top:5px; right:6px; cursor:pointer; display:block;}",styleContent:{padding:"0",overflow:"hidden",background:"none",width:"310px",height:"275px"},closeImg:false,skin:"noborder",effects:"fade",position:"rb",offsetY:-10,resizable:0},show:function(j){var g=this;if(document.getElementsByTagName("body").length==0){d(document).ready(function(){g.show(j)});return false}function l(p,m){var o;for(var n in p){o=typeof m[n];if(o=="undefined"){m[n]=p[n]}else{if(o=="object"){l(p[n],m[n])}}}}l(g.defaults,j);g.build(j);if(j.setcookie){var i=f(j.popMsgcookiename);if((i!=null)&&(i=="1")){return false}var h=-1;if(!j.noDelayTime){var k=new Date();k.setTime(k.getTime()+j.delayTime);h=k.toGMTString()}e(j.popMsgcookiename,h)}d.dialog({id:j.id,fixed:1,overlay:false,effects:j.effects,skin:j.skin,closeImg:j.closeImg,height:j.height,width:j.weight,content:j.data,position:j.position,styleContent:j.styleContent,resizable:j.resizable,offsetY:j.offsetY});d.dialog.get(j.id).hide()},build:function(g){d.dialog.addSkin(g.style)}};d.popMessage=function(g){if(typeof g=="undefined"){c.show({});return}c.show(g)};d.extend(d.popMessage,{show:function(h){var g=c.defaults.id;if(typeof h!="undefined"){g=h}d.dialog.show(g)},close:function(h){var g=c.defaults.id;if(typeof h!="undefined"){g==h}d.dialog.close(g)}})})(jQuery);